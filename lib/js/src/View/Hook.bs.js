// Generated by BUCKLESCRIPT VERSION 5.0.3, PLEASE EDIT WITH CARE
'use strict';

var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Rebase = require("@glennsl/rebase/lib/js/src/Rebase.bs.js");
var Event$AgdaMode = require("../Util/Event.bs.js");

function useState(init) {
  var match = React.useState((function () {
          return init;
        }));
  var setState = match[1];
  var setState$prime = function (value) {
    return Curry._1(setState, (function (param) {
                  return value;
                }));
  };
  return /* tuple */[
          match[0],
          setState$prime
        ];
}

function useAtomListener(listener) {
  React.useEffect((function () {
          var destructor = Curry._1(listener, /* () */0);
          return (function (param) {
                    destructor.dispose();
                    return /* () */0;
                  });
        }));
  return /* () */0;
}

function useAtomListenerWhen(listener, shouldListen) {
  var match = React.useState((function () {
          return undefined;
        }));
  var setDestructor = match[1];
  var destructor = match[0];
  React.useEffect((function () {
          if (shouldListen) {
            var destructor$1 = Curry._1(listener, /* () */0);
            Curry._1(setDestructor, (function (param) {
                    return (function (param) {
                              destructor$1.dispose();
                              return /* () */0;
                            });
                  }));
          } else {
            Rebase.$$Option[/* forEach */8]((function (f) {
                    return Curry._1(f, /* () */0);
                  }), destructor);
          }
          return destructor;
        }), /* array */[shouldListen]);
  return /* () */0;
}

function useListenWhen(listener, shouldListen) {
  var match = React.useState((function () {
          return undefined;
        }));
  var setDestructor = match[1];
  var destructor = match[0];
  React.useEffect((function () {
          if (shouldListen) {
            Curry._1(setDestructor, (function (param) {
                    return Curry._1(listener, /* () */0);
                  }));
          } else {
            Rebase.$$Option[/* forEach */8]((function (f) {
                    return Curry._1(f, /* () */0);
                  }), destructor);
          }
          return destructor;
        }), /* array */[shouldListen]);
  return /* () */0;
}

function useEventListener(listener, emitter) {
  React.useEffect((function () {
          return Rebase.$$Option[/* some */11](Event$AgdaMode.onOk(listener)(emitter));
        }), /* array */[]);
  return /* () */0;
}

exports.useState = useState;
exports.useAtomListener = useAtomListener;
exports.useAtomListenerWhen = useAtomListenerWhen;
exports.useListenWhen = useListenWhen;
exports.useEventListener = useEventListener;
/* react Not a pure module */
