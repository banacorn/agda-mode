// Generated by BUCKLESCRIPT VERSION 5.0.6, PLEASE EDIT WITH CARE
'use strict';

var Caml_option = require("bs-platform/lib/js/caml_option.js");
var Async$AgdaMode = require("./Util/Async.bs.js");
var Event$AgdaMode = require("./Util/Event.bs.js");
var Caml_chrome_debugger = require("bs-platform/lib/js/caml_chrome_debugger.js");

function makeHandles(param) {
  var activatePanel = Event$AgdaMode.make(/* () */0);
  var display = Event$AgdaMode.make(/* () */0);
  var inquire = Event$AgdaMode.make(/* () */0);
  var toggleDocking = Event$AgdaMode.make(/* () */0);
  var updateIsPending = Event$AgdaMode.make(/* () */0);
  var updateShouldDisplay = Event$AgdaMode.make(/* () */0);
  var onPanelActivationChange = Event$AgdaMode.make(/* () */0);
  var onInputMethodActivationChange = Event$AgdaMode.make(/* () */0);
  var updateConnection = Event$AgdaMode.make(/* () */0);
  var inquireConnection = Event$AgdaMode.make(/* () */0);
  var onInquireConnection = Event$AgdaMode.make(/* () */0);
  var onInquireQuery = Event$AgdaMode.make(/* () */0);
  var inquireQuery = Event$AgdaMode.make(/* () */0);
  var activateSettingsView = Event$AgdaMode.make(/* () */0);
  var onSettingsView = Event$AgdaMode.make(/* () */0);
  var navigateSettingsView = Event$AgdaMode.make(/* () */0);
  var interceptAndInsertKey = Event$AgdaMode.make(/* () */0);
  var activateInputMethod = Event$AgdaMode.make(/* () */0);
  var onMouseEvent = Event$AgdaMode.make(/* () */0);
  var destroy = Event$AgdaMode.make(/* () */0);
  return /* record */Caml_chrome_debugger.record([
            "display",
            "inquire",
            "toggleDocking",
            "activatePanel",
            "onPanelActivationChange",
            "onInputMethodActivationChange",
            "updateIsPending",
            "updateShouldDisplay",
            "updateConnection",
            "inquireConnection",
            "onInquireConnection",
            "inquireQuery",
            "onInquireQuery",
            "activateSettingsView",
            "onSettingsView",
            "navigateSettingsView",
            "destroy",
            "activateInputMethod",
            "interceptAndInsertKey",
            "onMouseEvent"
          ], [
            display,
            inquire,
            toggleDocking,
            activatePanel,
            onPanelActivationChange,
            onInputMethodActivationChange,
            updateIsPending,
            updateShouldDisplay,
            updateConnection,
            inquireConnection,
            onInquireConnection,
            inquireQuery,
            onInquireQuery,
            activateSettingsView,
            onSettingsView,
            navigateSettingsView,
            destroy,
            activateInputMethod,
            interceptAndInsertKey,
            onMouseEvent
          ]);
}

function make(handles) {
  var activate = function (param) {
    Event$AgdaMode.emitOk(true, handles[/* activatePanel */3]);
    return Async$AgdaMode.thenOk((function (param) {
                    if (param !== undefined) {
                      return Async$AgdaMode.resolve(Caml_option.valFromOption(param));
                    } else {
                      return Async$AgdaMode.reject(/* () */0);
                    }
                  }))(Event$AgdaMode.once(handles[/* onPanelActivationChange */4]));
  };
  var deactivate = function (param) {
    Event$AgdaMode.emitOk(false, handles[/* activatePanel */3]);
    return Async$AgdaMode.thenOk((function (param) {
                    if (param !== undefined) {
                      return Async$AgdaMode.reject(/* () */0);
                    } else {
                      return Async$AgdaMode.resolve(/* () */0);
                    }
                  }))(Event$AgdaMode.once(handles[/* onPanelActivationChange */4]));
  };
  var destroy = function (param) {
    deactivate(/* () */0);
    return Event$AgdaMode.emitOk(/* () */0, handles[/* destroy */16]);
  };
  var onDestroy = function (param) {
    return Event$AgdaMode.once(handles[/* destroy */16]);
  };
  var updateShouldDisplay = function (shouldDisplay) {
    Event$AgdaMode.emitOk(shouldDisplay, handles[/* updateShouldDisplay */7]);
    return /* () */0;
  };
  var onPanelActivationChange = function (param) {
    return Event$AgdaMode.once(handles[/* onPanelActivationChange */4]);
  };
  var display = function (text, style, body) {
    return Event$AgdaMode.emitOk(/* tuple */[
                /* record */Caml_chrome_debugger.record([
                    "text",
                    "style"
                  ], [
                    text,
                    style
                  ]),
                body
              ], handles[/* display */0]);
  };
  var inquire = function (text, placeholder, value) {
    var promise = Event$AgdaMode.once(handles[/* onInquireQuery */12]);
    Event$AgdaMode.emitOk(/* tuple */[
          /* record */Caml_chrome_debugger.record([
              "text",
              "style"
            ], [
              text,
              0
            ]),
          placeholder,
          value
        ], handles[/* inquire */1]);
    return promise;
  };
  var updateIsPending = function (isPending) {
    return Event$AgdaMode.emitOk(isPending, handles[/* updateIsPending */6]);
  };
  var onMouseEvent = handles[/* onMouseEvent */19];
  var activateInputMethod = function (activate) {
    return Event$AgdaMode.emitOk(activate, handles[/* activateInputMethod */17]);
  };
  var onInputMethodActivationChange = function (param) {
    return Event$AgdaMode.once(handles[/* onInputMethodActivationChange */5]);
  };
  var interceptAndInsertKey = function (symbol) {
    return Event$AgdaMode.emitOk(symbol, handles[/* interceptAndInsertKey */18]);
  };
  var navigateSettings = function (where) {
    return Event$AgdaMode.emitOk(where, handles[/* navigateSettingsView */15]);
  };
  var activateSettings = function (param) {
    return Event$AgdaMode.emitOk(true, handles[/* activateSettingsView */13]);
  };
  var openSettings = function (param) {
    var promise = Event$AgdaMode.once(handles[/* onSettingsView */14]);
    Event$AgdaMode.emitOk(true, handles[/* activateSettingsView */13]);
    return promise;
  };
  var updateConnection = function (connection, error) {
    return Event$AgdaMode.emitOk(/* tuple */[
                connection,
                error
              ], handles[/* updateConnection */8]);
  };
  var onInquireConnection = handles[/* onInquireConnection */10];
  var inquireConnection = function (param) {
    var promise = Event$AgdaMode.once(onInquireConnection);
    Event$AgdaMode.emitOk(/* () */0, handles[/* inquireConnection */9]);
    return promise;
  };
  var toggleDocking = function (param) {
    return Event$AgdaMode.emitOk(/* () */0, handles[/* toggleDocking */2]);
  };
  return /* record */Caml_chrome_debugger.record([
            "activate",
            "deactivate",
            "destroy",
            "onDestroy",
            "updateShouldDisplay",
            "onPanelActivationChange",
            "display",
            "inquire",
            "updateIsPending",
            "onMouseEvent",
            "activateInputMethod",
            "onInputMethodActivationChange",
            "interceptAndInsertKey",
            "navigateSettings",
            "activateSettings",
            "openSettings",
            "updateConnection",
            "onInquireConnection",
            "inquireConnection",
            "toggleDocking"
          ], [
            activate,
            deactivate,
            destroy,
            onDestroy,
            updateShouldDisplay,
            onPanelActivationChange,
            display,
            inquire,
            updateIsPending,
            onMouseEvent,
            activateInputMethod,
            onInputMethodActivationChange,
            interceptAndInsertKey,
            navigateSettings,
            activateSettings,
            openSettings,
            updateConnection,
            onInquireConnection,
            inquireConnection,
            toggleDocking
          ]);
}

var $$Event = 0;

exports.$$Event = $$Event;
exports.makeHandles = makeHandles;
exports.make = make;
/* Async-AgdaMode Not a pure module */
