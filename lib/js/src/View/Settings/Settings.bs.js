// Generated by BUCKLESCRIPT VERSION 5.0.3, PLEASE EDIT WITH CARE
'use strict';

var Block = require("bs-platform/lib/js/block.js");
var Curry = require("bs-platform/lib/js/curry.js");
var React = require("react");
var Caml_obj = require("bs-platform/lib/js/caml_obj.js");
var ReactDom = require("react-dom");
var Caml_option = require("bs-platform/lib/js/caml_option.js");
var ReasonReact = require("reason-react/lib/js/src/ReasonReact.js");
var Util$AgdaMode = require("../../Util.bs.js");
var Event$AgdaMode = require("../../Util/Event.bs.js");
var ReasonReactCompat = require("reason-react/lib/js/src/ReasonReactCompat.js");
var Settings__Breadcrumb$AgdaMode = require("./Settings__Breadcrumb.bs.js");
var Settings__Connection$AgdaMode = require("./Settings__Connection.bs.js");

function at(x, y, classNames) {
  return Curry._1(Util$AgdaMode.ClassName[/* serialize */2], Util$AgdaMode.ClassName[/* addWhen */1]("hidden", Caml_obj.caml_notequal(x, y), classNames));
}

function Settings(Props) {
  var inquireConnection = Props.inquireConnection;
  var onInquireConnection = Props.onInquireConnection;
  var connection = Props.connection;
  var connectionError = Props.connectionError;
  var navigate = Props.navigate;
  var element = Props.element;
  var match = React.useState((function () {
          return /* Root */0;
        }));
  var setURI = match[1];
  var uri = match[0];
  React.useEffect((function () {
          return Event$AgdaMode.onOk((function (uri) {
                          return Curry._1(setURI, (function (param) {
                                        return uri;
                                      }));
                        }))(navigate);
        }), /* array */[]);
  if (element !== undefined) {
    return ReactDom.createPortal(React.createElement("section", {
                    className: "agda-settings",
                    tabIndex: -1
                  }, React.createElement(Settings__Breadcrumb$AgdaMode.make, {
                        uri: uri,
                        onNavigate: (function (uri) {
                            return Curry._1(setURI, (function (param) {
                                          return uri;
                                        }));
                          })
                      }), React.createElement("div", {
                        className: "agda-settings-pages"
                      }, React.createElement("ul", {
                            className: at(/* Root */0, uri, /* :: */Block.simpleVariant("::", [
                                    "agda-settings-menu",
                                    /* [] */0
                                  ]))
                          }, React.createElement("li", {
                                onClick: (function (param) {
                                    return Curry._1(setURI, (function (param) {
                                                  return /* Connection */1;
                                                }));
                                  })
                              }, React.createElement("span", {
                                    className: "icon icon-plug"
                                  }, "Connection")), React.createElement("li", {
                                onClick: (function (param) {
                                    return Curry._1(setURI, (function (param) {
                                                  return /* Protocol */2;
                                                }));
                                  })
                              }, React.createElement("span", {
                                    className: "icon icon-comment-discussion"
                                  }, "Protocol"))), React.createElement(Settings__Connection$AgdaMode.make, {
                            inquireConnection: inquireConnection,
                            onInquireConnection: onInquireConnection,
                            connection: connection,
                            error: connectionError,
                            hidden: uri !== /* Connection */1
                          }))), Caml_option.valFromOption(element));
  } else {
    return null;
  }
}

var component = ReasonReact.statelessComponent("Settings");

function make(inquireConnection, onInquireConnection, connection, connectionError, navigate, element, children) {
  return ReasonReactCompat.wrapReactForReasonReact(Settings, {
              inquireConnection: inquireConnection,
              onInquireConnection: onInquireConnection,
              connection: connection,
              connectionError: connectionError,
              navigate: navigate,
              element: element
            }, children);
}

var Jsx2 = /* module */Block.localModule([
    "component",
    "make"
  ], [
    component,
    make
  ]);

var URI = 0;

var make$1 = Settings;

exports.URI = URI;
exports.at = at;
exports.make = make$1;
exports.Jsx2 = Jsx2;
/* component Not a pure module */
