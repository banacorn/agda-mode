// Generated by BUCKLESCRIPT, PLEASE EDIT WITH CARE
'use strict';

var Events = require("events");
var $$Promise = require("reason-promise/lib/js/src/js/promise.js");
var Nd__Events = require("bs-nd/lib/js/src/Nd__Events.bs.js");
var Caml_chrome_debugger = require("bs-platform/lib/js/caml_chrome_debugger.js");

function make(param) {
  var emitter = new Events.EventEmitter();
  return /* record */Caml_chrome_debugger.record([
            "emitter",
            "emit",
            "once",
            "on",
            "destroy"
          ], [
            emitter,
            (function (x) {
                emitter.emit("data", x);
                return /* () */0;
              }),
            (function (param) {
                var match = $$Promise.pending(/* () */0);
                emitter.once("data", match[1]);
                return match[0];
              }),
            (function (callback) {
                Nd__Events.on("data", callback, emitter);
                return (function (param) {
                    Nd__Events.removeListener("data", callback, emitter);
                    return /* () */0;
                  });
              }),
            (function (param) {
                emitter.removeAllListeners();
                return /* () */0;
              })
          ]);
}

exports.make = make;
/* events Not a pure module */
